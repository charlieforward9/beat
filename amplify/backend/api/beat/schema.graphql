type User @model @auth(rules: [{allow: public}]) {
  id: ID!
  userEmail: AWSEmail!
  userName: String!
  userPassword: String!
  userGoals: [Goal] @hasMany(indexName: "byUser", fields: ["id"])
}

type Goal @model @auth(rules: [{allow: public}]) {
  id: ID!
  goalStart: AWSDateTime!
  goalEnd: AWSDateTime!
  goalCategory: String!
  goalCurrentDuration: DurationBeat!
  goalTargetDuration: DurationBeat!
  goalPercentage: Float
  userID: ID! @index(name: "byUser")
  goalActivities: [Activity] @hasMany(indexName: "byGoal", fields: ["id"])
}

type Activity @model @auth(rules: [{allow: public}]) {
  id: ID!
  activityStart: AWSDateTime!
  activityEnd: AWSDateTime!
  activtyCategory: String!
  activityDuration: DurationBeat
  goalID: ID! @index(name: "byGoal")
  activityMetrics: [Metric] @manyToMany(relationName: "MetricActivity")
}

type Metric @model @auth(rules: [{allow: public}]) {
  id: ID!
  metricTimestamp: AWSDateTime!
  metricLocation: String
  metricActivities: [Activity] @manyToMany(relationName: "MetricActivity")
  metricHeartRate: Int
}

type DurationBeat {
  durationSeconds: Int
  durationMinutes: Int
  durationHours: Int
}
 